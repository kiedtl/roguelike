Levels
------
(Note: the exact order is yet to be defined)
- Entry
- Offices
- Garrison
- Recreation
	- Smallish square rooms with only one-width corridors. (So no prefabs.)
	- Rooms filled with artwork, posters, skeleton displays, armor displays,
	  statues, bookshelves, fountains.
	- Has bear traps with nearby hydras.
	- Preprocessing: change walls that are shared with multiple rooms to
	  windows.
- Laboratory
	- Large open space.
	- Stockpiles of ores, and vials.
	- Whole floor is geared to the production of vials and usage of them.
	- Production of vials:
	  - Ore "elevator", supposedly brings up ores from lower floors.
	    Dumps ores on nearby tiles.
	  - Haulers bring ores to ore stockpiles.
	  - Extractor machines, which are located in the ore stockpiles, create
	    vials.
	  - Haulers bring vials to vial stockpiles.
	  - Haulers take vials to research stations.
	- Usage of vials: research stations, alchemists use them to "experiment"
	  on prisoners.
	- Has traps of {blinding, pain-causing} gas.
	- Has teleportation traps.
- Temple
	- Circular rooms.
	- Refrigerated rooms filled with corpses.
	- Plenty of necromancers/priests.
	- Plenty of undead, death knights, etc.
	- Starting area is large room and has altar with piles of corpses nearby.
- Mining
	- Caves, brogue-style.
	- Rooms filled with pickaxes, boulders, and carts.
	- Cowardly kobolds that swarm around player.
- Smithing
	- Large open area.
	- Structures plopped all over the place.
		- Filled with forges and smithing machines.
		- Has stockpiles of ingots, ores, and metal goods.
	- Has large lakes of smoke-producing lava.
	- Has pools of mire and dross.
	- Plenty of fire drakes and lava flans.
- Prison
	- Medium-short corridors with rooms with locked enclosures of prisoners.
	- Some torture rooms maybe.
	- Levers for each room to unlock doors and release prisoners.
- Nuclear
- Labyrinth
- Caves
	- Just caves, brogue-style.


New mobs
--------
([s]pirit, [h]uman, [a]nimal, [u]ndead, [o]ther)
([CE]Sauron, [LE]NoneEvil, [CG]NoneGood, [LG]Illuvatar, [??]Neutral, [NN]NightCreature)

LE	a	spiders
			- Web attacks that hold player in stasis.
			- Long-lived, slow acting poisoned bite.
LE	s	burning brute
			- Tremendously powerful fire attacks.
			- Can be leveraged against guards.
			"A winged demon composed primarily of boiling granite, capable of
			fearsome fire attacks."
LE	s	blazing brute
			- Upscaled version of burning brute?
				- Maybe a Unique?
LE	a	internet troll
LE	o	mimic
LE	s	locust
LE	s	cankerworm
LE	s	death angel
			- Essentially a necromancer, but much more powerful on its own.
			- Capable of striking certain mobs (low willpower, non-sentient
			  mobs, mindless mobs, or undead mobs) dead in one turn.
LE	s	will o' the wisp
LE	s	winged terror
			- Summoner.
			- Main weapon is Fear spell.
CE	h	wraith
CE	a	jackals
CE	a	hounds
CE	s	necromancer
			- Casts Fear, Pain, and Raise spell.
			- Good night vision.
			- Good dexterity and strength, high HP.
			- High memory duration.
			- Normal speed.
			- Has sword and heavy chainmail.
			"An unusually fragile minor demon that has long wielded the secrets
			of life and death."
CE	h	goblin
			"Middle-sized humanoids with skin only slightly darker than the
			underside of a rainbow trout, these ferocious creatures are nothing
			like the misshapen apes that you've been told about around the
			evening campfire.
CE	a	hellhounds
CE	h	death/fire/ether knight
CE	a	fire worm (salamander?)
CE	o	crystal statue
			- Confuses intruders that wander too closely.
			- Nearly indestructible, except by fire attacks.
			"A statue of some nameless creature than once lurked in the
			depths of Udùn. These statues are almost as rare as the
			translucent blue crystal they're composed of."
CE	o	turquoise statue
			//- Raises an awful shriek when the player passes it.
			- ???
			- Nearly indestructible, except by fire attacks.
CE	o	realgar statue
			- ???
CE	o	nebro statue
			- Casts corona on intruders.
			- Indestructible.
CE	o	kyanite statue
			- Emits paralysis gas when intruders wander too closely.
			- Nearly indestructible, except by fire attacks.
CE	o	??? statue
			- Comes to life when player is being pursued.
			- Should be found near room entrances so that it can block the passage
			  there.
			- Quite destructible.
CE	u	lich
			- Ranged attacker. Hangs behind, flees when hostile closes in.
			- Bufs allies when they're wounded, allows non-undead mobs to
			  "taint" hostile.
			"The dessicated form of an ancient sorcerer, now controlled by the
			very necromantic powers he once served."
CE	a	troll
LG	s	shining one
LG	s	angel
LG	s	archangel
??	a	rat
??	a	quasit
??	o	lava flan
			- Emits small amounts of smoke.
			- Spawns around lava, made of lava.
			- Splits in two when struck with shearing damage.
			- Explodes on death.
NN	o	stalker (invisible)
			- Invisible.
			- Stalks victim, occasionally delivering blows.
NN	o	bogeyman (TODO: change name)
			- Stalks victim invisibly in groups of 3-5, then becomes visible
			  and gangs up to beat victim's skull in. Casts silence.
			- Incredibly good at dodging.
			"A emaciated humanoid creature of hideous appearance, possessed
			with eyes that are both dull and bright in the dungeon's gloom."
NN	o	night wanderer
			- A thin, sickly-looking creature that wanders the dungeon. Mostly
			  harmless.
NN	o	creeping death
			- Invisible.
			- Waits for victim to enter a dead end, then emits a suffocating
			  gas that envelopes victim. Gas is completely opaque and is
			  jet black.
			"An invisible Presence that stalks the dungeon, wreathed in
			unapproachable darkness."
NN	o	grue
			- Like stalker, but dies when coming into contact with light.
NN	o	vampire
			- Becomes easier to hit when in contact with light.
			- Regens slower when in contact with light.

Movement patterns
-----------------
sneak         [move, move, rest, move]
merciless     [move(A), attack(A), move(A), attack(A)]
counterattack [move(S), move(S), move(N), attack(A)]
charge        [move(A), move(A), move(A), attack(A)]
recuperate    [rest, rest, rest, rest]
(See rings for other movement patterns.)

Rings
-----
- Rings will not work as soon as they are wielded, but must be worn for a few
  hundred turns to reach their full potential.
- Rings don't have an "enchantment" level, but "tiers" instead (mithril, gold,
  silver, and iron).
- Rings: [p]assive (acting each turn) or [a]ctive (requiring user to move in pattern)
aged ring of knowledge [p]
	- Gives player knowledge of dungeon events.
	  E.g., "You feel like someone is looking for you." (pursuers enter level)
	        "You feel like someone spotted you."        (mob outside player's FOV spotted)
		"You feel uneasy."                          (death squad entered level)
		"You feel very uneasy."                     (undead nearby)
contemptuous ring of intimidation [a]
	- Confers either stun or fear on mob when moving toward mob.
	- Must land right next to mob.
	- Movement pattern: [move(N), move(N), move(N), move(N)]
creeping ring of telepathy [a]
	- Confers telepathy to all mobs in FOV.
	- Slows down or restricts player movement.
	- Movement pattern: [move(NE), move(SE), move(SW), move(NW)]
dancing ring of sidestepping [a]
	- Teleport player around mob to area outside of that mob's FOV, enabling a stab.
	- Must land next to mob.
	- Movement pattern: [move(NW), move(NE), move(NW), move(NE)]
singing ring of echolocation [p]
	- Gives player basic knowledge of dungeon's layout nearby sounds the player
	  can hear. The wearer will not know about dungeon features, just walls and
	  floors.
	- Low penalty.
ring of evasion [a]
	- Spews fog outward from player when zigzagging and fleeing, increasing evasion.
	- Example movement pattern: [move(NW), move(NE), move(NW), move(NE)]
vampiric ring of draining [a/p]
	- Drains an enemy for {speed,health,HP}.
	- Allows player to see that mob and all tiles within two spaces.
	- Player will get a status (paralyzed? slowed? negative regen? traumatize? stun?)
	  for a bit when the enemy dies OR the enemy sees the player.
	- If the enemy dies, the player is teleported there in its place?
	- Movement pattern: ???
	- Also: when worn, allows player to sense nearby mobs.
		- Movement pattern: ???
faded ring of fire [a]
	- Ring of fire, death, and darkness.
	- Causes dark gas to emanate from player. Gas is opaque and blocks all light.
		- Movement pattern:
	- Causes all nearby machines to lose power for a bit (aka turn out the lights).
		- Movement pattern:
	- Raises all nearby corpses to attack enemies for a brief period of time.
		- Movement pattern:
	- Causes tiles in 3-space radius around player to burst into flame.
		- Movement pattern.
	- Found in the Temple.
ring of invisibility
	- Doesn't make wearer invisible, but prevents other hostiles from noticing
	  the wearer, even if they walk within inches of each other's nose.
	- High penalty, depending on affected mob's willpower.
ring of fury
	- ???


Machines
--------
furnace
	- Heats air on one side of the chamber. May or may not be used by mobs.
	- If used by mobs: maybe to run an execution/torture chamber...?
	- If used by player: used to kill mobs in a vault?
cooler
	- Cools the surrounding air, helping to preserve e.g. food items.
forge
	- Stuff some metal on one end, and weapons will appear on the other.
book copy machine
	- Makes a book two.
food ration maker
	- Stuff fungi, lichen, and cadavers (I know, gross) next to it and rations
	  will appear on the other side.
camera
	- Pressure plate thing that puts an alert out if a non-Sauron-aligned
	  mob walks on it. (Alerts result in death squads sent out.)
alarm system
	- A Watcher can operate the alarm system when fleeing to send an alert
	  out, resulting in death squads being sent to the appropriate level.
announcement system
	- Player can operate this to get a popup detailing stuff about the dungeon.
	  E.g. "Squad LI-12 sent to put down rogue elf on level 2" or "Squad HE-7 sent
	  to destroy Burning Brute seen on level 7", or even "Food low on level 5".
teleportation station
	- Player can use it to teleport to a certain location.
uranium refinery
	- Should only appear in the Research branch.
	- Purely decor, until it's destroyed, in which case it'll release a bit
	  of corium.
potion synthesis machine
	- Should be a synthesis machine for each major potion.
	- Should only appear in the Research branch.
power station
	- Orc-powered power station.
nuclear reactor
	- Recharges power storage machines. When destroyed, releases massive
	  quantities of radioactive gases, noxious fumes, boiling uranium,
	  and lots of other nasty stuff, as well as a tremendous explosion.
heat-powered power station
	- If put in a hot place (ie next to lava), will self-power.
railgun
	- Should appear in the Research branch of the dungeon.
	- Unused by mobs, and mostly useless for player.
	- Zaps everything in a line, and self-destructs after X shots.
repair shop
	- Mobs and player may use it to repair weapons and armor.
air purifier
	- Clears away gases in a certain radius.
power storage
	- Powers all machines in a certain radius, until it itself runs out of
	  power. Useful for extending power station's range.
	- Player can destroy it to release electricity, zapping everything
	  (including player) in a certain radius.
elevator
	- Spawns mobs for death squads, or mobs when the number of laborers/guards
	  falls below a certain point
sonar mining laser
	- Unused by mobs, player can use it to blast away everything in a certain
	  radius, in a certain direction.
vending machine
	- Alternative to food stockpile...?
fire alarm
	- Registers a FireAlarm when heat increases around it, drawing mobs
	  designated as FireFighter towards it to remove the fire (if any --
	  they can't do anything if the "fire" is an angry burning brute).


Potions/Vials
--------------------
- Potions: [s]tatus, [g]as, [c]ustom
potion of confuzzlementation [g]
	- Confusion.
potion of petrification [g]
	- Paralysis.
potion of fog (TODO: name) [g]
	- Fog.
potion of acceleration [s]
	- Haste.
potion of preservation [c]
	- Heals 20% of health and removes poison.
potion of recuperation [s]
	- Causes faster regeneration rate.
potion of deceleration [s]
	- Slowdown.
potion of coagulation
	- Poison (loss of regen, occasional damage, weakness)
potion of invigoration [s]
	- Temporarily increases strength and dexterity.
potion of cremation [c]
	- Explodes when opened, heating surrounding air.
potion of refrigeration [g]
	- Freezes the surrounding air, slowing down cold-blooded mobs.
potion of asphyxiation [g]
	- Releases vapours that causes suffocation.
potion of decimation [c]
	- Explosion that can destroy walls.
potion of defoliation [g]
	- Poison that destroys plants and/or fungi.
potion of dehumanization
	- Makes mob mindless?
potion of electrocution [s]
	- Makes target significantly more susceptible to electric attacks?
potion of fumigation [g]
	- Releases toxic fumes that clear away other toxic fumes.
potion of intoxication [s]
	- Drunkenness.
potion of irradiation [c]
	- Releases corium.
potion of starvation [s]
	- Increases digestion rate.
potion of decaffeination
	- Emits gas that puts mob to sleep.
potion of dehydration
	- ???
potion of dilution
	- ???
potion of fluoridation
	- ???
potion of chlorination
	- ???
potion of negation
	- ???
potion of transubstantiation
	- ???
potion of cognition
	- ???
potion of corruption
	- ???
potion of aviation
	- ???
potion of degeneration
	- ???
potion of desalination
	- ???
potion of divination
	- ???
vial of tanus
	- Status: backvision
	  Makes mob see directly behind them as well as in front of them.
vial of slade
	- Status: bishop
	  Makes mob unable to move in cardinal directions.
vial of pholenine
	- Status: rook
	  Makes mob unable to move in diagonal directions.
vial of chloroforon
vial of hyine
vial of quagenin
vial of cataline
	- Status: nightvision
	  Gives mob perfect night vision.
vial of flouin
	- Status: dayblindness
	  Makes mob unable to see in brightly-lit tiles.
vial of phytin
	- Status: nightblindness
	  Makes mob unable to see in dimly-lit tiles.


Abominations
------------
Strange mobs found on LAB levels.
- Creeping Abomination
  - Like Blue Monk (in Hazard Level) or weeping angels.
- Slinking Abomination
  - Refuses to move into a tile that doesn't have at least one wall as a neighbor.
  - When spotted, IF the spotter is an enemy and has half of it's normal HP, it
    moves in and attacks, still keeping close to walls.
    Otherwise, it turns into a piece of artwork.
  - Game description should describe it as having an extremely hideous appearance.
- Fiery/Burning Abomination
- Deadly Abomination
- Undulating Abomination
  - Slow (speed == ~180?)
  - If enemy is less than X spaces away, it moves toward enemy.
  - Doesn't attack.
  - Emits gas that doesn't spread far. Gas slows down affected mobs. (100s => 150s)
  - If attacked, paralyzes player.
- Cleaving Abomination

Occupations
-----------
- Sentry
	Purpose: -
	Armed to the teeth.
	Attempts to hold intruder in stasis with nets and shooting webs
- Watchers
	Purpose: Give player a reason to think twice before entering room.
	Guards a single room, staying stationary.
	Changes glance direction every now and then.
	Very weak, but fast. Keeps its distance, and howls and yells when it
	  encounters an intruder.
- Patrol
	Purpose: Keep player always on their toes.
	Walk in a squad from one room to another, and investigate noises.
	Moderately well armed, but slow.
- Guard
	Purpose: Keep player always on their toes.
	Just stands around.
- Warden
	Purpose: roam around, beating/whipping idlers.
	Weak, slow, and cowardly.
- Executioner
	Purpose: -
	No armor.
	Keeps a Zinnag ("death-flail"), which is capable of killing a mob in
	just two to three strikes.
- Firefighter
	Purpose: respond to fire alarms, and use extinguisher to put fire out.
	Travels in squads of 3-4.
	Faster than other mobs.
	Always wears heat-proof cloak, and carries extinguisher. Defenseless
	  against intruders.
	Should flee if it realizes that the "fire" is an angry Burning Brute.
- Cleaner
	Purpose: add some life to the dungeon
	Cleans spattering of blood from floors/walls
- Electrician
	Purpose: fix electricity-emitting machines.
	Fixes malfunctioning power supplies and power storage facilities, which
	  would otherwise electrocute a normal technician.
	Carries electricity-proof cloak.
- Technician
	Purpose: Fixes all other machines.
- Engineer
	Purpose: Fix traps and props.
- Doctor
	Purpose: heal wounded mobs.
	Carries herbs and medicine (aka potions) that heal wounded mobs (via
	  released vapours).
- Priest
	Purpose: Make the temple extremely dangerous.
	???
- Researcher
	Purpose: Add some life to the dungeon.
- Farmer
	Purpose: make food for the entire dungeon.
	Farms fungi/mushrooms, harvesting them just before spore-producing stage.
	Places fungi/mushrooms next to machines, before operating the machine
	  and producing rations.


Posters
-------
(moved to data/posters.tsv)


Unique mobs
---------
- Captain of the Guard
- Head of Research
- Marshall of the Dead
  Nahorego Zinnugh
- Keeper of the Fire Stones (High Priest)
  Uberego Sohlghâsh
- the player
  Obomus-Nulohelmir


Possible names
--------------
- "Burning Brutes"
- "Deranged Clowns"
- "Treason"
- "Scoundrel", "Rascal", "Snarl", etc
- "Turncoat", "Oathbreaker"
- "Halls of the Necromancer"
- "Dominions of the Necromancer"
- "Wrath of the Necromancer"
- "Fear of Death"

Maybe a combination.
- "Wrath of the Necromancer: Oathbreaker" for current game, something like
  "Wrath of the Necromancer: Fear of Death" for a 7DRL sequel?

Books
-----
"Kornalg: The Life and Times of the Ancient Hill-King"
	- "You learn that Kornalg was by right king of the whole universe."
"This was Kornalg"
	- "You learn that Kornalg was undoubtedly the bravest, strongest,
	   besterestest hill goblin that ever was."
"Meing Krampgh"
	- "You learn that hill goblins are destined to rule the world."
"Histories of Man"
	- "You learn that dark-skinned humans are automatically inferior to other
	   fang-possessing bipeds."
"On the Descent of Goblins"
	- "You learn about the Hill Goblin Master Race."
"Durgh Stammer"
	- "You learn that hill goblins are vastly superior to cave goblins."
"The Path to Goblin Supremacy"
"The Weekly Hurricane"
"On the Origins of Slade"
"An Inquiry into the Chemical Properties of Phytin"
"On the Molecular Structure of Tanus"
"Operating Traumbulnahl Machinery"
	- "You learn that human-leather gloves are required while operating
	  extractors."
"Optimizing Distance Functions"
	- "You learn that Chebyshev distance is to be preferred to Euclidean
	distance for tile-based games."
"Optimizing the A* Algorithm"
	- "You learn about Manhattan distance."
"A Short Guide on Brewing Kombucha"
	- "You learn the ratios of sugar and tea needed to brew kombucha."
recipe books
	- "You learn how to pickle goblin roasts."
	- "You learn how to properly butcher humans."


Materials (v = vial, s = stone, g = gem, o = ore/metal)
---------
g	vaand
g	chlorovese
g	chlus
g	caus
g	magenus
g	silus		Silicate, composes fire-proof cloaks.
g	chlade		Like mese in Minetest. Composes crystal statues. Glows.
			Associated with demonic powers.
o	magonium
o	beus
o	sylvium
o	magalt
o	vibonium
v	tanus		Extracted from talonium.
v	slade		Extracted from sulon.
v	pholenine	Extracted from phosire.
v	chloroforon
v	hyine		Extracted from hyalt.
v	quagenine	Extracted from quaese.
v	flouine
v	cataline	Extracted from catasine.
v	phytin		Extracted from phybro.
s	talonium	Ore of tanus.
s	sulon		Ore of slade.
s	phosire		Ore of pholenine.
s	hyalt		Ore of hyine.
s	quaese		Ore of quagenine.
s	catasine	Ore of cataline.
s	phybro		Ore of phytin.
s	dobalene	Makes up the walls of LAB.
s	nebro		Like slade in Dwarf Fortress -- extremely heavy.
			Associated with demonic powers.
s	vangenite	Makes up the walls of machinery in LAB. Glows dimly.
s	bolyvese
s	orthire		Uranium. Nuclear reactors are referred to as
			"Orthire Furnaces".
s	maron


Roadmap
-------

Basic stuff:
============
x Basic prefabs
x Allow for definition of a 'start' prefab
x Allow for placement of player in a location
x Allow for placement of specific item in a location
x Add exit staircase that exits game
x Add screen/confirmation for winning
x Add screen/confirmation for death
x Add potion struct, define some potions
x Throw some potions around during mapgen
x Allow picking up of potions
x Add dialog to view inventory
x Add dialog to use item in inventory (quaff potions)
x Add dialog to throw potion at mob
x Define armor struct, use on mobs and player
x Define melee weapon struct and dagger/spear, use on mobs and player
x Add the Openworld
x Allow stacking in inventory
x Add ranged weaponry
x Alternative weapons, weapon swapping

Ring and movements:
===================
- Define where rings should be in prefabs/mobs

Lighting/FOV:
=============
x Allow for prefabs to "seed" a map
  (Needed to ensure that power stations can appear on map)
x Refactor/cleanup FOV helper methods:
  x Generalize raycasting function
  x Add quadrants to raycasting
  x Use raycasting for everyone, remove shadowcasting
  x Use matrix to store mob's FOV, instead of array.
  x Update memoized sin/cos values
x Ensure that raycasting method doesn't have any artifacts
x Set a filter on area outside FOV (sepia? grayscale?)
x Show vision "energies" on FOV
x Make lighting system affect stealth/FOV
~ Make raycasting use bounding box instead of slower trigonometry method?

Temperature
===========
x Add temperature matrix, tickTemperature(); make magma emit heat
x Integrate with lighting system (make hot tiles emit light)
- Add emits_heat to Mob{}, define Burning Brute
- Update tickTemperature() to work with material's specific heat
- Add min_heat, max_heat to Mob{}; add tickTemperatureEffects()
- Allow walls to melt
- Allow props and machines to be damaged and melt

Room features/Mapgen:
=====================
- Allow close prefabs
- Make connectors flanked by floors a floor or door
- Add some lichen and fungi to rooms
x Add statues and chests to corners of rooms
- Add posters
~ Allow for prefabs to be rotated
x Allow for prefabs to have alternate layouts
x Allow for prefabs to be restricted to a map
x Create corridors between parallel prefabs/rooms
x Make the "lamps" electric "braziers"
  - Place them in center of rooms.
  x Place them in corners of rooms.
  - Make them explosive and electrocutive!
- Useless items in bins, cabinets, etc
- Weapons and armor in cabinets
- Allow multiple subrooms in rooms (BSP?)

Mobs, AI
========
x Make watchers shout loudly
x Allow mobs to shuffle past each other in corridors
- Add reproducing rats
x Ensure that laborers don't leave to investigate noises
x Ensure that the EnemyRecord counter is only decremented if the pursuer can
  see the last spot where the hostile was seen
- Move off of tile if that tile has dangerous gas
- Go into rage when encountering corpse of allied mob
- "Scan" room when encountering blood spattering
x Make watchers smack intruders when they can't run
- Mobs that throw potions of light at hostiles that are in areas too dark for
  them to see
- Fleeing mobs and mobs that have just spotted an enemy "tell" nearby allies
  about the hostile
- Define what undead are somewhere (combat bonuses, stat increases, miasma
  emissions, etc)

User Interface
==============
x Add padding between infopane/msgpane and map
x Make it easier to tell the heavily wounded from dead
- @ command to see player's full AC and stats
x Fix showing of display percentage of last damage
- UI for status effects (paralysis, etc)
- Ring messages (full power, half power, equipped)
x Only print trap messages when culprit is player
- Group identical messages in msgpane
x Attack messages should be nice and descriptive ("You skewer the goblin!")
  - Even more descriptive! ("The troll smashes you like an overripe mango!!")
- Show red/yellow/orange for low health bars
x Use proper CP407 arrows for staircases

Fixes
=====
x Add walls to edges of map after mapgen
x Place stairs only in rooms
x Fix sound propagation

Openworld:
==========
- Add portals to Openworld from the main dungeon, with sentinels
x Add goblins, rats, and other mobs to populate the Openworld
- Add Burning Brutes and Lava Flans to the Openworld
- Add lichen, fungi, and lava to the Openworld

Ideas
=====
[+] planned, [~] obsolete, [x] done
~ Layers, as in Brogue? (gas, liquid, surface, floor, etc.)
+ Cloaks of invisibility, confusion, blinding, camouflage, electricity
  resistance, fire resistance, etc.
- Ring of seeing (magic mapping)
+ Rings have negative effects (decreased piety/willpower)
+ Add bonus (or neg bonus) to attacker if defender moved or didn't move in the
  past two turns
+ Ring of intimidation that magic maps dungeon based on mob's memory
+ Crafting grid/alchemy by arranging items on map and dancing
x Lighting system and torches
- Light colors
x Ring of echolocation to magic-map neighbors of sound-producing tiles
- "Night", when guards sleep, torches go out, and night creatures awaken
- "Seed database" that stores bones for players who died during game, then
  shows ingame bones/corpses/undead on other games
- Candles that destory people/objects/rooms when quenched
- "Permeability" instead of walkability, that lets creatures pass if they are
  small enough (e.g., rats and small spires could pass through iron bars)
- Tile "integrity" that reduces when tile is hit with explosion
- Radioactivity system: nuclear reactors, uranium, corium, nuclear bombs that
  the player can blow up for fun
- Orchestra/Concert, that sings/players instruments and distracts guards
	- Bonus: use Nazi singer names
- Goblin "organizations" (purely eye candy)
	- the Goblin Brotherhood, the ProudGobbos, the Seven Percenters, the
	  Goblin Nations, etc
- Night creatures should pop out of artwork at night
+ Stone guardians that patrol map and cast confusion at enemies, but move at 1
  tile per 10-20 turns
- Enemies that surrender or start whimpering when fleeing and trapped in a
  corner, or maybe perpare for one final all-out assault
- Enemies that suicide when cornered and about to die.
- Headstones with previous player's comments on them, or ghosts that mourn
  previous player's carelessnes (think DCSS ghosts)
	- Bonus: the ghosts/gravestones are found in the temple in prison cells
- Pub for guards to get drunk
- Ring to detect powered machines
- Ring/feature to detect what kind of mob made a noise
- Radioactive gas leaking from a warehouse on a few levels, so a kind of food
  clock
- Ability to rifle sleeping/drunk/stunned guards as well as corpses
- Lava flans
- Undead have other interesting kinds of negative effects when they score a
  hit?
	- Reduced max HP, less regen rate, reduced stealth
- Areas that speed up or slow down mobs
- Lichen/fungi that puts mobs to sleep (enchanted ground)
- Ice/oily floor that randomizes movement
- Ground in Temple should drain stats, max HP, cause fatigue, etc
- Sticky ground that reduces evasion
- Mobile traps that can be placed by player and used to lure guards on top
	- {Bombs/landmines, bear trap, damage trap} "kits"
- Statues can only move when out of sight, and then very fast.
- Item/lever player can trigger to unlock locked doors in room, releasing
  prisoners and creating maximum chaos.
+ Use Dijkstra for lighting/FOV?
- Potion and Ring ID system.
x Blood spattering?
- Speech bubbles in following situations:
  - On spotting an enemy ("Aha!", "It's a <species>!", "It's the @!!")
  - On being cornered ("Don't touch me!", "Go away!", "No farther!")
  - On seeing a dead ally, killed by a visible hostile ("Murderer!")
  - On pursuing a fleeing hostile ("Coward!", "Wimp!", "Bye clown!")
  - On investigating a noise ("...?", "What?", "Must have been rats!")
- Smell mechanics that allow, say, hellhounds and snakes to detect intruders
  even if they can't see them.
- Ranged melee weapons, e.g., spear and whips
x Add braziers that are built into the walls (aka torches), and use that
  instead for corridors
- Some kind of squad-forming fast-moving swarming mob, like killer bees (DCSS)
  or swarmers (Cogmind 7DRL)
+ Level with hospital (get healed with healing gas), nursery (kill baby goblins!),
  dining room, bedrooms, kitchen
+ "cameras kits" that create surface items that keep the surrounding area in the
  FOV of all mobs that have a certain ring on
- Experiment with "bouncing" rays in raycasting routines
- Ring/item that has leaving a vunerable "copy" of yourself where that item/ring
  was activated (that is, *two* tiles have the .mob field pointing to the player,
  while the player.coord field points to only one of them).

Optimizations
=============
- Use @mulAdd where possible (FOV, A*, Dijkstra, light/atmosphere/sound systems)
- Use @setCold(true) where possible (see above for places to look)
- Use SIMD where possible
x Use a matrix to mark nodes as closed (instead of a heap-allocated list) for
  Dijkstra.
- Use Manhattan distance for A* algorithm (overestimating heuristic might be better?)
- Allow functions that repeatedly call A* for the same mob to store an "AstarContext"
  structure that allows astar.path() to reuse cell cost, walkablility, etc data
  without calling those functions again.
- Use atan to calculate octant in which coord appears relative to mob's coord, instead
  of the slower method seen in Coord.closestDirectionTo()

Code cleanups
=============
- Defined unimplemented(), todo(), and oom()
- Stop using the freaking `catch unreachable` syntax:
    libera#zig 19:58 <ikskuh> "catch unreachable" will happily continue to execute code
                              after the error in non-safe build modes
- Remove all floats from color functions, sound systems, gas systems, etc.
- Review usage of usize and change to u64/u32 where needed to prevent portability issues
- Define custom assert() that can give additional context

Refactorings
============
- Define Species struct and carry immutable data for each mob in it
x Convert enum+union pair to union(enum) (see std/fifo.zig) where needed
x Research Manhattan distance vs Euclidian distance vs Moore neighborhood:
  https://reddit.com/r/roguelikedev/comments/nev1jg/a_pathfinding_unstablenondeterministic/
x Add power component to machines
x Use Chebyshev or Moore Neighborhood instead of Manhattan distance
- Use arrays and indexes for state.* instead of linked lists and pointers

Tests
=====
x Ensure that distance() treats diagonal moves as more expensive than cardinal moves, or
  the opposite if Chebyshev/Moore is used later.
